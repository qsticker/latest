(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f96edce"],{1276:function(e,t,i){"use strict";var n=i("d784"),a=i("44e7"),r=i("825a"),s=i("1d80"),o=i("4840"),c=i("8aa5"),u=i("50c4"),l=i("14c3"),d=i("9263"),m=i("d039"),v=[].push,f=Math.min,p=4294967295,h=!m((function(){return!RegExp(p,"y")}));n("split",2,(function(e,t,i){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,i){var n=String(s(this)),r=void 0===i?p:i>>>0;if(0===r)return[];if(void 0===e)return[n];if(!a(e))return t.call(n,e,r);var o,c,u,l=[],m=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,h=new RegExp(e.source,m+"g");while(o=d.call(h,n)){if(c=h.lastIndex,c>f&&(l.push(n.slice(f,o.index)),o.length>1&&o.index<n.length&&v.apply(l,o.slice(1)),u=o[0].length,f=c,l.length>=r))break;h.lastIndex===o.index&&h.lastIndex++}return f===n.length?!u&&h.test("")||l.push(""):l.push(n.slice(f)),l.length>r?l.slice(0,r):l}:"0".split(void 0,0).length?function(e,i){return void 0===e&&0===i?[]:t.call(this,e,i)}:t,[function(t,i){var a=s(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,a,i):n.call(String(a),t,i)},function(e,a){var s=i(n,e,this,a,n!==t);if(s.done)return s.value;var d=r(e),m=String(this),v=o(d,RegExp),g=d.unicode,b=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(h?"y":"g"),S=new v(h?d:"^(?:"+d.source+")",b),T=void 0===a?p:a>>>0;if(0===T)return[];if(0===m.length)return null===l(S,m)?[m]:[];var y=0,k=0,_=[];while(k<m.length){S.lastIndex=h?k:0;var E,w=l(S,h?m:m.slice(k));if(null===w||(E=f(u(S.lastIndex+(h?0:k)),m.length))===y)k=c(m,k,g);else{if(_.push(m.slice(y,k)),_.length===T)return _;for(var C=1;C<=w.length-1;C++)if(_.push(w[C]),_.length===T)return _;k=y=E}}return _.push(m.slice(y)),_}]}),!h)},"1b40":function(e,t,i){"use strict";var n=i("c852"),a=i.n(n);a.a},2909:function(e,t,i){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function a(e){if(Array.isArray(e))return n(e)}i.d(t,"a",(function(){return c}));i("a4d3"),i("e01a"),i("d28b"),i("a630"),i("d3b7"),i("3ca3"),i("ddb0");function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}i("fb6a"),i("b0c0"),i("25f0");function s(e,t){if(e){if("string"===typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e){return a(e)||r(e)||s(e)||o()}},3125:function(e,t,i){"use strict";var n=i("e91b"),a=i.n(n);a.a},3279:function(e,t,i){"use strict";var n=i("caf4"),a=i.n(n);a.a},"44e7":function(e,t,i){var n=i("861d"),a=i("c6b6"),r=i("b622"),s=r("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==a(e))}},"498a":function(e,t,i){"use strict";var n=i("23e7"),a=i("58a8").trim,r=i("c8d2");n({target:"String",proto:!0,forced:r("trim")},{trim:function(){return a(this)}})},"4df4":function(e,t,i){"use strict";var n=i("0366"),a=i("7b0b"),r=i("9bdd"),s=i("e95a"),o=i("50c4"),c=i("8418"),u=i("35a1");e.exports=function(e){var t,i,l,d,m,v,f=a(e),p="function"==typeof this?this:Array,h=arguments.length,g=h>1?arguments[1]:void 0,b=void 0!==g,S=u(f),T=0;if(b&&(g=n(g,h>2?arguments[2]:void 0,2)),void 0==S||p==Array&&s(S))for(t=o(f.length),i=new p(t);t>T;T++)v=b?g(f[T],T):f[T],c(i,T,v);else for(d=S.call(f),m=d.next,i=new p;!(l=m.call(d)).done;T++)v=b?r(d,g,[l.value,T],!0):l.value,c(i,T,v);return i.length=T,i}},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,i){var n=i("1d80"),a=i("5899"),r="["+a+"]",s=RegExp("^"+r+r+"*"),o=RegExp(r+r+"*$"),c=function(e){return function(t){var i=String(n(t));return 1&e&&(i=i.replace(s,"")),2&e&&(i=i.replace(o,"")),i}};e.exports={start:c(1),end:c(2),trim:c(3)}},6062:function(e,t,i){"use strict";var n=i("6d61"),a=i("6566");e.exports=n("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),a)},6566:function(e,t,i){"use strict";var n=i("9bf2").f,a=i("7c73"),r=i("e2cc"),s=i("0366"),o=i("19aa"),c=i("2266"),u=i("7dd0"),l=i("2626"),d=i("83ab"),m=i("f183").fastKey,v=i("69f3"),f=v.set,p=v.getterFor;e.exports={getConstructor:function(e,t,i,u){var l=e((function(e,n){o(e,l,t),f(e,{type:t,index:a(null),first:void 0,last:void 0,size:0}),d||(e.size=0),void 0!=n&&c(n,e[u],e,i)})),v=p(t),h=function(e,t,i){var n,a,r=v(e),s=g(e,t);return s?s.value=i:(r.last=s={index:a=m(t,!0),key:t,value:i,previous:n=r.last,next:void 0,removed:!1},r.first||(r.first=s),n&&(n.next=s),d?r.size++:e.size++,"F"!==a&&(r.index[a]=s)),e},g=function(e,t){var i,n=v(e),a=m(t);if("F"!==a)return n.index[a];for(i=n.first;i;i=i.next)if(i.key==t)return i};return r(l.prototype,{clear:function(){var e=this,t=v(e),i=t.index,n=t.first;while(n)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete i[n.index],n=n.next;t.first=t.last=void 0,d?t.size=0:e.size=0},delete:function(e){var t=this,i=v(t),n=g(t,e);if(n){var a=n.next,r=n.previous;delete i.index[n.index],n.removed=!0,r&&(r.next=a),a&&(a.previous=r),i.first==n&&(i.first=a),i.last==n&&(i.last=r),d?i.size--:t.size--}return!!n},forEach:function(e){var t,i=v(this),n=s(e,arguments.length>1?arguments[1]:void 0,3);while(t=t?t.next:i.first){n(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!g(this,e)}}),r(l.prototype,i?{get:function(e){var t=g(this,e);return t&&t.value},set:function(e,t){return h(this,0===e?0:e,t)}}:{add:function(e){return h(this,e=0===e?0:e,e)}}),d&&n(l.prototype,"size",{get:function(){return v(this).size}}),l},setStrong:function(e,t,i){var n=t+" Iterator",a=p(t),r=p(n);u(e,t,(function(e,t){f(this,{type:n,target:e,state:a(e),kind:t,last:void 0})}),(function(){var e=r(this),t=e.kind,i=e.last;while(i&&i.removed)i=i.previous;return e.target&&(e.last=i=i?i.next:e.state.first)?"keys"==t?{value:i.key,done:!1}:"values"==t?{value:i.value,done:!1}:{value:[i.key,i.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),i?"entries":"values",!i,!0),l(t)}}},"66e7":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"event-maker"},[e.quizEvent?i("div",{staticClass:"container"},[i("div",{staticClass:"title"},[i("h2",[e._v(" "+e._s(e.$t("編輯測驗"))+" ")])]),i("div",{staticClass:"part"},[i("div",{staticClass:"title"},[i("h3",[e._v(" "+e._s(e.$t("基本設定"))+" ")])]),i("form",{staticClass:"info pl-4"},[i("div",{staticClass:"input-group"},[i("label",{attrs:{for:"quizEvent_name"}},[e._v(e._s(e.$t("測驗名稱")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quizEvent.metadata.name,expression:"quizEvent.metadata.name"}],attrs:{id:"quizEvent_name",type:"text"},domProps:{value:e.quizEvent.metadata.name},on:{input:function(t){t.target.composing||e.$set(e.quizEvent.metadata,"name",t.target.value)}}})]),i("div",{staticClass:"input-group"},[i("label",{attrs:{for:"quizEvent_shortId"}},[e._v(e._s(e.$t("測驗代碼")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quizEvent.shortId,expression:"quizEvent.shortId"}],attrs:{id:"quizEvent_shortId",type:"text",disabled:""},domProps:{value:e.quizEvent.shortId},on:{input:function(t){t.target.composing||e.$set(e.quizEvent,"shortId",t.target.value)}}})])])]),i("div",{staticClass:"part"},[i("div",{staticClass:"title"},[i("h3",[e._v(" "+e._s(e.$t("選擇班級"))+" ")])]),i("div",{staticClass:"forMembers"},[i("b-button",{attrs:{disabled:e.isLocked},on:{click:function(t){return t.preventDefault(),e.openSelectMemberGroupModal(t)}}},[e._v(" "+e._s(e.$t("選擇班級"))+" ")]),i("SelectMemberGroupModal",{on:{"submit-selection":e.updateSelectedMemberGroup}}),i("div",{staticClass:"checkfilterList"},[i("checkedItems",{attrs:{"checked-list":e.quizEvent.memberGroups,"group-type":e.memberGroupsInfo.name}})],1)],1)]),i("div",{staticClass:"part"},[i("div",{staticClass:"title"},[i("h3",[e._v(" "+e._s(e.$t("選擇題組"))+" ")])]),i("div",{staticClass:"forQuestions"},[i("b-button",{attrs:{disabled:e.isLocked},on:{click:function(t){return t.preventDefault(),e.openSelectQuizGroupModal(t)}}},[e._v(" "+e._s(e.$t("選擇題組"))+" ")]),i("SelectQuizGroupModal",{on:{"submit-selection":e.updateSelectedQuizGroup}}),i("div",{staticClass:"checkfilterList"},[i("checkedItems",{attrs:{"checked-list":e.quizEvent.quizGroups,"group-type":e.quizGroupsInfo.name}})],1)],1)]),i("div",{staticClass:"part forDate"},[i("div",{staticClass:"title"},[i("h3",[e._v(" "+e._s(e.$t("選擇測驗細節"))+" ")])]),i("div",{staticClass:"eventSettingArea"},[i("eventSetting",{attrs:{"date-time":e.dateTime,"is-locked":e.isLocked,"quiz-event":e.quizEvent},on:{manualModeUpdate:function(t){return e.manualModeUpdate()}}})],1)]),i("div",{staticClass:"btn-area save-btn"},[i("button",{staticClass:"btn btn-success",on:{click:e.updateEvent}},[i("i",{staticClass:"fas fa-save"}),i("span",[e._v(e._s(e.$t("儲存測驗")))]),i("transition",{attrs:{name:"fade"}},[!0===e.saveSignalDisplay?i("p",{staticClass:"saved-signal"},[e._v(" "+e._s(e.$t("已儲存"))+" ")]):e._e()])],1)]),i("div",{staticClass:"btn-area last-page"},[i("BackButton")],1)]):e._e()])},a=[],r=(i("d3b7"),i("96cf"),i("1da1")),s=i("2b0e"),o=i("cb92"),c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"checked-items"},[i("h2",[e._v(e._s(e.$t("已選項目")))]),i("div",{staticClass:"content"},e._l(e.checkedList,(function(t){return i("div",{key:t.uuid,staticClass:"item"},["WorkspaceFolder"===t.metadata.type?i("div",{staticClass:"item-area"},[i("div",[e._v(e._s(t.metadata.name))]),i("div",[e._v(e._s(e.$t("資料夾")))])]):e._e(),"WorkspaceMemberGroup"===t.metadata.type?i("div",{staticClass:"item-area"},[i("div",[e._v(e._s(t.metadata.name))]),i("div",[e._v(e._s(e.$tc("n人",t.memberCount,{n:t.memberCount})))])]):e._e(),"WorkspaceQuizGroup"===t.metadata.type?i("div",{staticClass:"item-area"},[i("div",[e._v(e._s(t.metadata.name))]),i("div",[e._v(e._s(e.$tc("n題",t.quizNumber,{n:t.quizNumber})))])]):e._e(),"WorkspaceSoftLink"===t.metadata.type?i("div",{staticClass:"item-area"},[i("div",[e._v(" "+e._s(t.sourceObject.metadata.name)+" "),i("i",{staticClass:"fas fa-user-friends shared-item"})]),"member"===e.groupType?i("div",[e._v(" "+e._s(e.$tc("n人",t.sourceObject.memberCount,{n:t.sourceObject.memberCount}))+" ")]):e._e(),"quiz"===e.groupType?i("div",[e._v(" "+e._s(e.$tc("n題",t.sourceObject.quizNumber,{n:t.sourceObject.quizNumber}))+" ")]):e._e()]):e._e()])})),0)])},u=[],l=s["default"].extend({components:{},props:{checkedList:{type:Array,default:function(){return[]}},groupType:{type:String,default:""}},data:function(){return{}},computed:{}}),d=l,m=(i("3279"),i("2877")),v=Object(m["a"])(d,c,u,!1,null,"6bddda30",null),f=v.exports,p=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dateandtime"},[i("div",{staticClass:"valid-time-setting"},[i("label",{staticClass:"mb-3"},[e._v(e._s(e.$t("測驗有效時間"))+" "),i("div",{staticClass:"clear-btn btn btn-sm btn-outline-primary",on:{click:function(t){return e.clearDateTime()}}},[e._v(" "+e._s(e.$t("清空"))+" ")])]),i("div",{staticClass:"input-group mb-2"},[i("div",{staticClass:"input-group-prepend"},[i("label",{staticClass:"input-group-text",attrs:{for:"date-start"}},[e._v(e._s(e.$t("開始日期")))])]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.startValidDate,expression:"startValidDate"}],staticClass:"form-control",attrs:{id:"date-start",type:"date"},domProps:{value:e.startValidDate},on:{blur:e.remindValidTime,input:function(t){t.target.composing||(e.startValidDate=t.target.value)}}}),i("div",{staticClass:"input-group-prepend"},[i("label",{staticClass:"input-group-text",attrs:{for:"time-start"}},[e._v(e._s(e.$t("開始時間")))])]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.startValidTime,expression:"startValidTime"}],staticClass:"form-control",attrs:{id:"time-start",type:"time"},domProps:{value:e.startValidTime},on:{blur:e.remindValidTime,input:function(t){t.target.composing||(e.startValidTime=t.target.value)}}})]),i("div",{staticClass:"input-group mb-2"},[i("div",{staticClass:"input-group-prepend"},[i("label",{staticClass:"input-group-text",attrs:{for:"date-end"}},[e._v(e._s(e.$t("結束日期")))])]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.endValidDate,expression:"endValidDate"}],staticClass:"form-control",attrs:{id:"date-end",type:"date"},domProps:{value:e.endValidDate},on:{blur:e.remindValidTime,input:function(t){t.target.composing||(e.endValidDate=t.target.value)}}}),i("div",{staticClass:"input-group-prepend"},[i("label",{staticClass:"input-group-text",attrs:{for:"time-end"}},[e._v(e._s(e.$t("結束時間")))])]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.endValidTime,expression:"endValidTime"}],staticClass:"form-control",attrs:{id:"time-end",type:"time"},domProps:{value:e.endValidTime},on:{blur:e.remindValidTime,input:function(t){t.target.composing||(e.endValidTime=t.target.value)}}})]),i("p",{staticClass:"remind"},[e._v(" "+e._s(e.dateTime.validTimeRemind)+" ")])]),i("div",{staticClass:"send-mode-setting mt-5",class:{locked:e.isLocked}},[i("label",[e._v(e._s(e.$t("測驗發送模式"))+" "),e.isLocked?e._e():i("div",{staticClass:"clear-btn btn btn-sm btn-outline-primary",on:{click:function(t){return e.clearScheduleMode()}}},[e._v(" "+e._s(e.$t("清空"))+" ")])]),i("div",{staticClass:"schedule mt-3"},[i("label",{staticClass:"mb-1"},[e._v(e._s(e.$t("排程發送")))]),e.isLocked?i("div",{staticClass:"sand-mode-msg"},[e.scheduleSendDate?i("div",{staticClass:"scheduleLockedMode"},[i("p",[e._v(e._s(e.scheduleSendDate)+" "+e._s(e.scheduleSandTime))])]):e._e(),e.scheduleSendDate?e._e():i("div",{staticClass:"scheduleLockedMode"},[i("p",[e._v("使用手動發送")])])]):e._e(),e.isLocked?e._e():i("div",{staticClass:"input-group mb-2"},[i("div",{staticClass:"input-group-prepend"},[i("label",{staticClass:"input-group-text",attrs:{for:"send-date-start"}},[e._v(e._s(e.$t("發送日期")))])]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.scheduleSendDate,expression:"scheduleSendDate"}],staticClass:"form-control",attrs:{id:"send-date-start",type:"date",disabled:e.isLocked},domProps:{value:e.scheduleSendDate},on:{blur:e.remindScheduledTime,input:function(t){t.target.composing||(e.scheduleSendDate=t.target.value)}}}),i("div",{staticClass:"input-group-prepend"},[i("label",{staticClass:"input-group-text",attrs:{for:"send-time-start"}},[e._v(e._s(e.$t("發送時間")))])]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.scheduleSandTime,expression:"scheduleSandTime"}],staticClass:"form-control",attrs:{id:"send-time-start",type:"time",disabled:e.isLocked},domProps:{value:e.scheduleSandTime},on:{blur:e.remindScheduledTime,input:function(t){t.target.composing||(e.scheduleSandTime=t.target.value)}}})]),i("p",{staticClass:"remind"},[e._v(" "+e._s(e.dateTime.sandTimeRemind)+" ")])]),i("div",{staticClass:"manual mt-3"},[i("label",[e._v(e._s(e.$t("手動發送")))]),i("div",{staticClass:"sand-mode-msg"},[e.isLocked?i("div",{staticStyle:{color:"rgb(206, 0, 0)"}},[e._v(" "+e._s(e.$t("此測驗已發送"))+" ")]):e._e(),e.isLocked?e._e():i("button",{staticClass:"btn sandbtn btn-outline-dark",attrs:{disabled:e.isLocked},on:{click:function(t){return t.preventDefault(),e.manualModeUpdate()}}},[e._v(" "+e._s(e.$t("儲存並"))),i("span",[e._v(e._s(e.$t("立即發送")))]),i("i",{staticClass:"fas fa-paper-plane"})])])]),i("div",{staticClass:"code mt-3"},[i("label",[e._v(e._s(e.$t("代碼發送")))]),i("div",{staticClass:"sand-mode-msg"},[i("div",[e._v(e._s(e.quizEvent.shortId))]),i("div",{staticClass:"copybtn",attrs:{title:e.$t("複製測驗代碼")},on:{click:function(t){return e.copyEventCode()}}},[i("i",{staticClass:"fas fa-copy"})]),i("transition",{attrs:{name:"fade"}},[!0===e.copyMessageDisplay?i("p",{staticClass:"copy-message"},[e._v(" "+e._s(e.$t("已複製測驗代碼"))+" ")]):e._e()])],1)])]),i("div",{staticClass:"other-setting mt-5"},[i("div",{staticClass:"retake input-group"},[i("b-form-checkbox",{attrs:{name:"check-button",switch:""},model:{value:e.quizEvent.allowRetake,callback:function(t){e.$set(e.quizEvent,"allowRetake",t)},expression:"quizEvent.allowRetake"}},[e._v(" "+e._s(e.$t("開啟重複測驗機制"))+" ")])],1)])])},h=[],g=(i("99af"),i("ac1f"),i("1276"),i("74c7")),b=i("b47d"),S=s["default"].extend({components:{},props:{quizEvent:{type:Object,required:!0},dateTime:{type:Object,default:function(){return{startValid:""}}},isLocked:{type:Boolean,default:!1}},data:function(){return{nowTimestamp:Math.floor(new Date(Math.floor(Date.now())).getTime()/1e3),startValidDate:null,startValidTime:null,endValidDate:null,endValidTime:null,scheduleSendDate:null,scheduleSandTime:null,copyMessageDisplay:!1,copyMessageTimeoutId:0}},computed:{workspaceId:function(){return this.$store.state.currentWorkspace.uuid},quizEventId:function(){return this.$store.state.currentQuizEvent.uuid}},watch:{startValidDate:function(){this.saveDateTime()},startValidTime:function(){this.saveDateTime()},endValidDate:function(){this.saveDateTime()},endValidTime:function(){this.saveDateTime()},scheduleSendDate:function(){this.saveDateTime()},scheduleSandTime:function(){this.saveDateTime()},quizEvent:function(){this.initDefaultDate()}},mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:b["b"].$on("clear-copied-message",e.clearCopyMessageTimeout),e.initDefaultDate();case 2:case"end":return t.stop()}}),t)})))()},methods:{remindValidTime:function(){if(this.startValidDate&&this.startValidTime&&this.endValidDate&&this.endValidTime){var e=this.isoDateTimeToTimestamp(this.dateTime.startValid),t=this.isoDateTimeToTimestamp(this.dateTime.endValid);e>t?(console.log("必須要大於起始日"),this.dateTime.validTimeRemind="小提醒： 結束時間需大於開始時間"):this.dateTime.validTimeRemind=""}},remindScheduledTime:function(){if(this.scheduleSendDate&&this.scheduleSandTime&&this.endValidDate&&this.endValidTime){var e=this.isoDateTimeToTimestamp(this.dateTime.scheduledTime),t=this.isoDateTimeToTimestamp(this.dateTime.endValid);this.dateTime.sandTimeRemind=e>t?"小提醒： 發送時間需在結束時間之前":""}},clearDateTime:function(){this.startValidDate="",this.startValidTime="",this.endValidDate="",this.endValidTime=""},clearScheduleMode:function(){this.scheduleSendDate="",this.scheduleSandTime=""},initDefaultDate:function(){if(!this.quizEvent)throw new Error("quiz event not ready");if(this.quizEvent.startTime){var e=this.isoDateTimeToTimestamp(this.quizEvent.startTime),t=this.toDateStringObject(e/1e3);this.startValidDate=t.date,this.startValidTime=t.time}if(this.quizEvent.endTime){var i=this.isoDateTimeToTimestamp(this.quizEvent.endTime),n=this.toDateStringObject(i/1e3);this.endValidDate=n.date,this.endValidTime=n.time}if(this.quizEvent.stateHistory){var a=this.quizEvent.stateHistory.length-1;switch(this.quizEvent.stateHistory[a].state){case g["a"].SCHEDULED:case g["a"].DONE:if(this.quizEvent.scheduledTime){console.log(this.quizEvent.scheduledTime);var r=this.isoDateTimeToTimestamp(this.quizEvent.scheduledTime),s=this.toDateStringObject(r/1e3);this.scheduleSendDate=s.date,this.scheduleSandTime=s.time}break;case g["a"].CANCELED:this.scheduleSendDate=null,this.scheduleSandTime=null;break;default:console.log("default:",this.quizEvent.stateHistory[a].state);break}}else console.log("quizEvent.stateHistory 不存在")},saveDateTime:function(){this.startValidDate&&this.startValidTime?this.dateTime.startValid=this.toIsoDateTime(this.startValidDate,this.startValidTime):this.dateTime.startValid=null,this.endValidDate&&this.endValidTime?this.dateTime.endValid=this.toIsoDateTime(this.endValidDate,this.endValidTime):this.dateTime.endValid=null,this.scheduleSendDate&&this.scheduleSandTime?this.dateTime.scheduledTime=this.toIsoDateTime(this.scheduleSendDate,this.scheduleSandTime):this.dateTime.scheduledTime=null},isoDateTimeToTimestamp:function(e){var t=Date.parse(e);return t},toDateStringObject:function(e){var t=this.toDateStringFormat(e),i=t.split(" ",2),n={date:i[0],time:i[1]};return n},toIsoDateTime:function(e,t){var i=this.dateStringsToTimestamp(e,t),n=new Date(i).toISOString();return n},toDateStringFormat:function(e){var t=new Date(1e3*e),i=t.getFullYear(),n=t.getMonth()+1,a=t.getDate(),r=t.getHours(),s=t.getMinutes(),o="",c="",u="",l="";o=n<10?"0".concat(n):"".concat(n),c=a<10?"0".concat(a):"".concat(a),u=r<10?"0".concat(r):"".concat(r),l=s<10?"0".concat(s):"".concat(s);var d="".concat(String(i),"-").concat(o,"-").concat(c," ").concat(u,":").concat(l);return d},dateStringsToTimestamp:function(e,t){var i="".concat(e,"T").concat(t),n=new Date(i).getTime();return n},copyEventCode:function(){var e=this;if(!this.quizEvent)throw new Error("quiz event not ready");b["b"].$emit("clear-copied-message"),this.$copyText(this.quizEvent.shortId).then((function(t){e.copyMessageDisplay=!0,e.copyMessageTimeoutId=setTimeout(e.clearCopyMessage,1500)}),(function(e){console.error("複製失败",e.text)}))},clearCopyMessage:function(){this.copyMessageDisplay=!1},clearCopyMessageTimeout:function(){this.clearCopyMessage(),clearTimeout(this.copyMessageTimeoutId)},manualModeUpdate:function(){this.$emit("manualModeUpdate")}}}),T=S,y=(i("c99a"),Object(m["a"])(T,p,h,!1,null,"a36b7116",null)),k=y.exports,_=i("aa73"),E=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("modal",{staticClass:"modal-container",attrs:{name:"select-quiz-group-modal",transition:"pop-out",width:"640","focus-trap":!0,height:"640"},on:{"before-open":e.beforeOpen}},[e.quizLocalRootId&&e.quizShareRootId?i("WorkspaceObjectSelector",{attrs:{"local-root-id":e.quizLocalRootId,"share-root-id":e.quizShareRootId,"default-selection":e.defaultSelection,"local-root-name":e.$t(e.rootName),"allow-select-many":!1},on:{"submit-selection":e.handleSubmit,cancel:e.handleCancel}}):i("loading",{attrs:{active:!0,"is-full-page":!1,"background-color":"transparent"}})],1)},w=[],C=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"selector"},[i("div",{staticClass:"main-area"},[i("div",{staticClass:"root-navigator"},[i("b-button",{staticClass:"btn",on:{click:function(t){return t.preventDefault(),e.visitFolder(e.localRootId)}}},[e._v(" "+e._s(e.localRootName)+" ")]),i("b-button",{staticClass:"btn",on:{click:function(t){return t.preventDefault(),e.visitFolder(e.shareRootId)}}},[e._v(" "+e._s(e.$t("與我共用"))+" ")])],1),e.currentFolder?i("div",{staticClass:"folder-browser"},[i("div",{staticClass:"current-folder"},[e.currentFolder?i("Breadcrumb",{attrs:{path:e.currentFolder.path,situation:"objectSelector"},on:{visitFolder:e.visitFolder}}):e._e(),i("div",{staticClass:"cancel-btn"},[i("i",{staticClass:"fas fa-times",on:{click:function(t){return t.preventDefault(),e.$emit("cancel")}}})])],1),i("div",{staticClass:"input-group"},[e._m(0),i("input",{directives:[{name:"model",rawName:"v-model",value:e.searchString,expression:"searchString"}],staticClass:"form-control",attrs:{id:"search",type:"text",placeholder:e.$t("搜尋名稱")},domProps:{value:e.searchString},on:{input:function(t){t.target.composing||(e.searchString=t.target.value)}}})]),i("div",{staticClass:"select-items"},[0===e.filteredMethodList.length&&""!==e.trimSearchString?i("div",{staticClass:"searchTip mt-5"},[e._v(" "+e._s(e.$t("沒有對應的搜尋結果"))+" ")]):e._e(),e._l(e.filteredMethodList,(function(t){return i("div",{key:t.uuid},[i("WorkspaceObjectItem",{attrs:{"workspace-object":t,"default-selected":e.selectionSet.has(t.uuid),"allow-select-many":e.allowSelectMany,selection:e.selection,"select-mode-open":e.selectModeOpen},on:{visit:e.visitFolder,toggle:function(i){return e.toggleSelection(t)},remove:function(i){return e.remove(t)},select:function(i){return e.select(t)}}})],1)}))],2)]):e._e()]),i("transition",{attrs:{name:"fade"}},[e.defaultSelection.length>0|e.selection.length>0?i("div",{staticClass:"buttons"},[i("b-button",{on:{click:function(t){return t.preventDefault(),e.$emit("submit-selection",e.selection)}}},[e._v(" "+e._s(e.$t("確認"))+" ")])],1):e._e()])],1)},z=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"input-group-prepend"},[i("label",{staticClass:"input-group-text",attrs:{for:"search"}},[i("i",{staticClass:"fas fa-search"})])])}],x=(i("c740"),i("4160"),i("c975"),i("a434"),i("b0c0"),i("25f0"),i("6062"),i("3ca3"),i("498a"),i("159b"),i("ddb0"),i("2909")),D=i("3bb2"),q=i("18ad"),$=i("8eb5"),I=i("010d"),R=i("67c0"),O=s["default"].extend({name:"WorkspaceObjectSelector",components:{WorkspaceObjectItem:$["a"],Breadcrumb:I["a"]},props:{localRootId:{type:String,required:!0},shareRootId:{type:String,required:!0},localRootName:{type:String,required:!0},allowSelectMany:{type:Boolean,default:!1},defaultSelection:{type:Array,default:function(){return[]}}},data:function(){return{selectModeOpen:!0,WorkspaceObjectType:q["a"],selection:[],selectionSet:new Set,currentFolder:null,isLoading:!1,searchString:""}},computed:{trimSearchString:function(){var e=this.searchString.trim();return e},visibleList:function(){return this.currentFolder?this.currentFolder.children:[]},searchList:function(){var e=this,t=[];return this.visibleList.forEach((function(i){var n=i.metadata.name,a=e.trimSearchString,r=n.toUpperCase().indexOf(a.toUpperCase());r>=0&&t.push(i)})),t},filteredMethodList:function(){var e=[];return e=""!==this.trimSearchString?Object(x["a"])(this.searchList):Object(x["a"])(this.visibleList),e.sort((function(e,t){return e.metadata.name<t.metadata.name?-1:e.metadata.name>t.metadata.name?1:0}))}},mounted:function(){var e=this;this.defaultSelection&&(this.selection=R["a"].deepcopy(this.defaultSelection)),this.selection.forEach((function(t){e.selectionSet.add(t.uuid)})),this.visitFolder(this.localRootId)},methods:{visitFolder:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.isLoading=!0,i.prev=1,i.next=4,D["a"].retrieve(e);case 4:t.currentFolder=i.sent,i.next=11;break;case 7:i.prev=7,i.t0=i["catch"](1),console.error(i.t0),t.$notify({type:"error",title:t.$t("錯誤").toString(),text:t.$t("讀取資料夾失敗，請稍後重試").toString()});case 11:return i.prev=11,t.isLoading=!1,i.finish(11);case 14:case"end":return i.stop()}}),i,null,[[1,7,11,14]])})))()},toggleSelection:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(n=t.selection.findIndex((function(t){return t.uuid===e.uuid})),-1!==n){i.next=11;break}if(t.allowSelectMany||(t.selection=[],t.selectionSet=new Set),t.selection.push(e),t.selectionSet.add(e.uuid),t.allowSelectMany){i.next=9;break}return i.next=8,t.$nextTick();case 8:b["c"].$emit("reset");case 9:i.next=13;break;case 11:t.selection.splice(n,1),t.selectionSet.delete(e.uuid);case 13:case"end":return i.stop()}}),i)})))()}}}),L=O,M=(i("1b40"),Object(m["a"])(L,C,z,!1,null,"82472aee",null)),V=M.exports,j=s["default"].extend({components:{WorkspaceObjectSelector:V},data:function(){return{defaultSelection:[],rootName:"我的題庫"}},computed:{quizLocalRootId:function(){return this.$store.state.currentWorkspace?this.$store.state.currentWorkspace.quizFolders.local:null},quizShareRootId:function(){return this.$store.state.currentWorkspace?this.$store.state.currentWorkspace.quizFolders.share:null}},methods:{beforeOpen:function(e){e.params.defaultSelection&&(this.defaultSelection=e.params.defaultSelection)},handleSubmit:function(e){this.$emit("submit-selection",e),this.$modal.hide("select-quiz-group-modal")},handleCancel:function(){this.$modal.hide("select-quiz-group-modal")}}}),N=j,G=Object(m["a"])(N,E,w,!1,null,null,null),F=G.exports,A=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("modal",{staticClass:"modal-container",attrs:{name:"select-member-group-modal",transition:"pop-out",width:"640","focus-trap":!0,height:"640"},on:{"before-open":e.beforeOpen}},[e.memberLocalRootId&&e.memberShareRootId?i("WorkspaceObjectSelector",{attrs:{"local-root-id":e.memberLocalRootId,"share-root-id":e.memberShareRootId,"default-selection":e.defaultSelection,"local-root-name":e.$t(e.rootName),"allow-select-many":!0},on:{"submit-selection":e.handleSubmit,cancel:e.handleCancel}}):i("loading",{attrs:{active:!0,"is-full-page":!1,"background-color":"transparent"}})],1)},W=[],U=s["default"].extend({components:{WorkspaceObjectSelector:V},data:function(){return{defaultSelection:[],rootName:"我的班級"}},computed:{memberLocalRootId:function(){return this.$store.state.currentWorkspace?this.$store.state.currentWorkspace.memberFolders.local:null},memberShareRootId:function(){return this.$store.state.currentWorkspace?this.$store.state.currentWorkspace.memberFolders.share:null}},methods:{beforeOpen:function(e){e.params.defaultSelection&&(this.defaultSelection=e.params.defaultSelection)},handleSubmit:function(e){this.$emit("submit-selection",e),this.$modal.hide("select-member-group-modal")},handleCancel:function(){this.$modal.hide("select-member-group-modal")}}}),Q=U,P=Object(m["a"])(Q,A,W,!1,null,null,null),B=P.exports,H=i("74c9"),J=s["default"].extend({components:{checkedItems:f,eventSetting:k,SelectQuizGroupModal:F,SelectMemberGroupModal:B,BackButton:H["a"]},data:function(){return{quizEvent:null,isLocked:!1,saved:"",monitor:-1,nowTimestamp:Math.floor(new Date(Math.floor(Date.now())).getTime()/1e3),memberGroupsInfo:{name:"member",checkedList:[]},quizGroupsInfo:{name:"quiz",checkedList:[]},dateTime:{startValid:"",endValid:"",scheduledTime:"",defaultdEndTime:"",validTimeRemind:"",sandTimeRemind:"",endTimeRemind:""},saveSignalDisplay:!1,saveSignalTimeoutId:0}},computed:{isLoading:function(){return this.$store.state.isLoading},workspaceId:function(){return this.$store.state.currentWorkspace.uuid},quizEventId:function(){return this.$store.state.currentQuizEvent.uuid}},mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return _["a"].loginCheck(),e.$store.commit("updateLoading",!0),b["b"].$on("clear-copied-message",e.clearSaveSignalTimeout),e.startStateMonitor(),t.prev=4,t.next=7,o["a"].getQuizEvent(e.quizEventId).then((function(t){e.quizEvent=t,e.isLocked=t.isLocked}));case 7:return t.prev=7,e.$store.commit("updateLoading",!1),t.finish(7);case 10:case"end":return t.stop()}}),t,null,[[4,,7,10]])})))()},beforeDestroy:function(){clearInterval(this.monitor)},methods:{startStateMonitor:function(){var e=this;-1!==this.monitor&&clearInterval(this.monitor),this.monitor=setInterval(Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:o["a"].getQuizEventState(e.quizEventId).then((function(t){e.isLocked=t.isLocked}));case 1:case"end":return t.stop()}}),t)}))),1e4)},updateEvent:function(){var e=this;if(!this.quizEvent)throw new Error("quiz event not ready");this.$store.commit("updateLoading",!0),this.quizEvent.startTime=this.dateTime.startValid,this.quizEvent.endTime=this.dateTime.endValid,this.quizEvent.scheduledTime=this.dateTime.scheduledTime,o["a"].update(this.quizEventId,this.quizEvent).then((function(){e.saveEventSignal()})).catch((function(e){console.error("update儲存出錯囉",e)})).finally((function(){e.$store.commit("updateLoading",!1)}))},manualModeUpdate:function(){var e=this;this.quizEvent&&(this.$store.commit("updateLoading",!0),this.quizEvent.startTime=this.dateTime.startValid,this.quizEvent.endTime=this.dateTime.endValid,this.quizEvent.scheduledTime=null,this.dateTime.validTimeRemind="",o["a"].update(this.quizEventId,this.quizEvent).then((function(){e.saveEventSignal(),o["a"].sendNow(e.quizEventId).then((function(){clearInterval(e.monitor),e.isLocked=!0})).catch((function(e){console.log("quiz event send now 出錯囉",e)})).finally((function(){e.$store.commit("updateLoading",!1)}))})))},saveEventSignal:function(){b["b"].$emit("clear-copied-message"),this.saveSignalDisplay=!0,this.saveSignalTimeoutId=setTimeout(this.clearSaveSignal,1500)},clearSaveSignal:function(){this.saveSignalDisplay=!1},clearSaveSignalTimeout:function(){this.clearSaveSignal(),clearTimeout(this.saveSignalTimeoutId)},openSelectMemberGroupModal:function(){var e;this.$modal.show("select-member-group-modal",{defaultSelection:null===(e=this.quizEvent)||void 0===e?void 0:e.memberGroups})},updateSelectedMemberGroup:function(e){if(!this.quizEvent)throw new Error("quiz event not ready");this.quizEvent.memberGroups=e},openSelectQuizGroupModal:function(){var e;this.$modal.show("select-quiz-group-modal",{defaultSelection:null===(e=this.quizEvent)||void 0===e?void 0:e.quizGroups})},updateSelectedQuizGroup:function(e){if(!this.quizEvent)throw new Error("quiz event not ready");e.length,1===e.length&&(e[0].metadata.type===q["a"].SoftLink&&e[0].sourceObject.metadata.type!==q["a"].QuizGroup||(e[0].metadata.type,q["a"].QuizGroup)),this.quizEvent.quizGroups=e}}}),K=J,Y=(i("d6f1"),Object(m["a"])(K,n,a,!1,null,"c6676d42",null));t["default"]=Y.exports},"67c0":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));i("d3b7"),i("25f0");var n=i("2909"),a=(i("96cf"),i("1da1")),r=i("d4ec"),s=i("bee2"),o=function(){function e(){Object(r["a"])(this,e)}return Object(s["a"])(e,null,[{key:"deepcopy",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"randomString",value:function(e){return e<0?"":Math.random().toString(36).substring(e)}},{key:"preloadImage",value:function(e){return new Promise((function(t,i){var n=new Image;n.onload=function(){t()},n.onerror=function(){i(new Error("Failed to load image from ".concat(e)))},n.src=e}))}},{key:"demo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5;return new Promise((function(t,i){var n=Math.random();n>e?t(n):i(new Error("less than ".concat(e)))}))}},{key:"wait",value:function(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))}},{key:"retry",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(i,a){var r,s,o,c,u=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=u.length>2&&void 0!==u[2]?u[2]:5,s=u.length>3&&void 0!==u[3]?u[3]:100,r=Math.max(r,0),s=Math.max(s,10),o=null,c=0;case 6:if(!(c<r)){t.next=21;break}return t.prev=7,t.next=10,i.apply(void 0,Object(n["a"])(a));case 10:return t.abrupt("return",t.sent);case 13:t.prev=13,t.t0=t["catch"](7),o=t.t0;case 16:return t.next=18,e.wait(s);case 18:c+=1,t.next=6;break;case 21:throw o;case 22:case"end":return t.stop()}}),t,null,[[7,13]])})));function i(e,i){return t.apply(this,arguments)}return i}()},{key:"fileToDataUrl",value:function(e){return new Promise((function(t,i){var n=new FileReader;n.onload=function(e){if(e&&e.target&&"string"===typeof e.target.result){var n=e.target.result;t(n)}else i(new Error("Failed to read file as dataUrl"))},n.readAsDataURL(e)}))}},{key:"getCanvasBlob",value:function(e){return new Promise((function(t,i){e.toBlob((function(e){null===e?i(new Error("Unable to convert canvas to blob")):t(e)}),"image/png")}))}}]),e}()},"6d61":function(e,t,i){"use strict";var n=i("23e7"),a=i("da84"),r=i("94ca"),s=i("6eeb"),o=i("f183"),c=i("2266"),u=i("19aa"),l=i("861d"),d=i("d039"),m=i("1c7e"),v=i("d44e"),f=i("7156");e.exports=function(e,t,i){var p=-1!==e.indexOf("Map"),h=-1!==e.indexOf("Weak"),g=p?"set":"add",b=a[e],S=b&&b.prototype,T=b,y={},k=function(e){var t=S[e];s(S,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(h&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return h&&!l(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(h&&!l(e))&&t.call(this,0===e?0:e)}:function(e,i){return t.call(this,0===e?0:e,i),this})};if(r(e,"function"!=typeof b||!(h||S.forEach&&!d((function(){(new b).entries().next()})))))T=i.getConstructor(t,e,p,g),o.REQUIRED=!0;else if(r(e,!0)){var _=new T,E=_[g](h?{}:-0,1)!=_,w=d((function(){_.has(1)})),C=m((function(e){new b(e)})),z=!h&&d((function(){var e=new b,t=5;while(t--)e[g](t,t);return!e.has(-0)}));C||(T=t((function(t,i){u(t,T,e);var n=f(new b,t,T);return void 0!=i&&c(i,n[g],n,p),n})),T.prototype=S,S.constructor=T),(w||z)&&(k("delete"),k("has"),p&&k("get")),(z||E)&&k(g),h&&S.clear&&delete S.clear}return y[e]=T,n({global:!0,forced:T!=b},y),v(T,e),h||i.setStrong(T,e,p),T}},7156:function(e,t,i){var n=i("861d"),a=i("d2bb");e.exports=function(e,t,i){var r,s;return a&&"function"==typeof(r=t.constructor)&&r!==i&&n(s=r.prototype)&&s!==i.prototype&&a(e,s),e}},"74c7":function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return r}));i("b0c0");var n,a=i("d4ec");(function(e){e["INIT"]="INIT",e["SCHEDULED"]="SCHEDULED",e["RUNNING"]="RUNNING",e["DONE"]="DONE",e["CANCELED"]="CANCELED",e["TERMINATED"]="TERMINATED",e["ERROR"]="ERROR"})(n||(n={}));var r=function e(t,i,n,r,s,o,c){if(Object(a["a"])(this,e),t&&(this.name=t),i&&(this.startTime=i),n&&(this.endTime=n),r&&(this.scheduledTime=r),s){this.quizGroupIdList=[];for(var u=0;u<s.length;u+=1)this.quizGroupIdList.push(s[u].uuid)}if(o){this.memberGroupIdList=[];for(var l=0;l<o.length;l+=1)this.memberGroupIdList.push(o[l].uuid)}null!==c&&(this.allowRetake=c)}},"74c9":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a",{on:{click:function(t){return t.preventDefault(),e.$router.go(-1)}}},[i("i",{staticClass:"fas fa-arrow-left mr-1"}),e._v(" "+e._s(e.$t("上一頁"))+" ")])},a=[],r=(i("3125"),i("2877")),s={},o=Object(r["a"])(s,n,a,!1,null,"3e84fbe5",null);t["a"]=o.exports},a630:function(e,t,i){var n=i("23e7"),a=i("4df4"),r=i("1c7e"),s=!r((function(e){Array.from(e)}));n({target:"Array",stat:!0,forced:s},{from:a})},a980:function(e,t,i){},bb2f:function(e,t,i){var n=i("d039");e.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},c644:function(e,t,i){},c852:function(e,t,i){},c8d2:function(e,t,i){var n=i("d039"),a=i("5899"),r="​᠎";e.exports=function(e){return n((function(){return!!a[e]()||r[e]()!=r||a[e].name!==e}))}},c975:function(e,t,i){"use strict";var n=i("23e7"),a=i("4d64").indexOf,r=i("a640"),s=i("ae40"),o=[].indexOf,c=!!o&&1/[1].indexOf(1,-0)<0,u=r("indexOf"),l=s("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:c||!u||!l},{indexOf:function(e){return c?o.apply(this,arguments)||0:a(this,e,arguments.length>1?arguments[1]:void 0)}})},c99a:function(e,t,i){"use strict";var n=i("a980"),a=i.n(n);a.a},caf4:function(e,t,i){},cb92:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));i("b0c0");var n=i("5530"),a=(i("96cf"),i("1da1")),r=i("d4ec"),s=i("bee2"),o=i("6ad1"),c=i("74c7"),u=i("88c3"),l=function(){function e(){Object(r["a"])(this,e)}return Object(s["a"])(e,null,[{key:"create",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i={parentId:t,name:u["a"].t("未命名測驗")},e.next=3,o["a"].post("workspace/quiz-events/",i);case 3:return n=e.sent,e.abrupt("return",n.data.quizEvent);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getQuizEvent",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].get("workspace/quiz-events/".concat(t));case 2:return i=e.sent,e.abrupt("return",i.data.quizEvent);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getQuizEventState",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].get("workspace/quiz-events/".concat(t,"/state"));case 2:return i=e.sent,e.abrupt("return",i.data.quizEventState);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,i){var a,r,s,u,l,d,m,v,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=i.metadata,r=i.startTime,s=i.endTime,u=i.scheduledTime,l=i.quizGroups,d=i.memberGroups,m=i.allowRetake,v=new c["b"](a.name,r,s,u,l,d,m),f=Object(n["a"])({},v),e.next=5,o["a"].put("workspace/quiz-events/".concat(t),f);case 5:case"end":return e.stop()}}),e)})));function t(t,i){return e.apply(this,arguments)}return t}()},{key:"sendNow",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].post("workspace/quiz-events/".concat(t,"/send"),{});case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}()},d28b:function(e,t,i){var n=i("746f");n("iterator")},d6f1:function(e,t,i){"use strict";var n=i("c644"),a=i.n(n);a.a},e01a:function(e,t,i){"use strict";var n=i("23e7"),a=i("83ab"),r=i("da84"),s=i("5135"),o=i("861d"),c=i("9bf2").f,u=i("e893"),l=r.Symbol;if(a&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var d={},m=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof m?new l(e):void 0===e?l():l(e);return""===e&&(d[t]=!0),t};u(m,l);var v=m.prototype=l.prototype;v.constructor=m;var f=v.toString,p="Symbol(test)"==String(l("test")),h=/^Symbol\((.*)\)[^)]+$/;c(v,"description",{configurable:!0,get:function(){var e=o(this)?this.valueOf():this,t=f.call(e);if(s(d,e))return"";var i=p?t.slice(7,-1):t.replace(h,"$1");return""===i?void 0:i}}),n({global:!0,forced:!0},{Symbol:m})}},e91b:function(e,t,i){},f183:function(e,t,i){var n=i("d012"),a=i("861d"),r=i("5135"),s=i("9bf2").f,o=i("90e3"),c=i("bb2f"),u=o("meta"),l=0,d=Object.isExtensible||function(){return!0},m=function(e){s(e,u,{value:{objectID:"O"+ ++l,weakData:{}}})},v=function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!r(e,u)){if(!d(e))return"F";if(!t)return"E";m(e)}return e[u].objectID},f=function(e,t){if(!r(e,u)){if(!d(e))return!0;if(!t)return!1;m(e)}return e[u].weakData},p=function(e){return c&&h.REQUIRED&&d(e)&&!r(e,u)&&m(e),e},h=e.exports={REQUIRED:!1,fastKey:v,getWeakData:f,onFreeze:p};n[u]=!0},fb6a:function(e,t,i){"use strict";var n=i("23e7"),a=i("861d"),r=i("e8b5"),s=i("23cb"),o=i("50c4"),c=i("fc6a"),u=i("8418"),l=i("b622"),d=i("1dde"),m=i("ae40"),v=d("slice"),f=m("slice",{ACCESSORS:!0,0:0,1:2}),p=l("species"),h=[].slice,g=Math.max;n({target:"Array",proto:!0,forced:!v||!f},{slice:function(e,t){var i,n,l,d=c(this),m=o(d.length),v=s(e,m),f=s(void 0===t?m:t,m);if(r(d)&&(i=d.constructor,"function"!=typeof i||i!==Array&&!r(i.prototype)?a(i)&&(i=i[p],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return h.call(d,v,f);for(n=new(void 0===i?Array:i)(g(f-v,0)),l=0;v<f;v++,l++)v in d&&u(n,l,d[v]);return n.length=l,n}})}}]);
//# sourceMappingURL=chunk-1f96edce.d6c27c7e.js.map
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f3233a6e"],{"021b":function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));r("99af"),r("b0c0");var n=r("5530"),a=(r("96cf"),r("1da1")),c=r("d4ec"),i=r("bee2"),o=r("6ad1"),s=r("f52b"),u=function(){function e(){Object(c["a"])(this,e)}return Object(i["a"])(e,null,[{key:"create",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={name:r,parentId:t},e.next=3,o["a"].post("workspace/member-groups",JSON.stringify(n));case 3:return a=e.sent,e.abrupt("return",a.data.memberGroup);case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getMemberGroup",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,c,i,u,d,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].get("workspace/member-groups/".concat(t));case 2:for(r=e.sent,n=r.data.memberGroup.members,a=0;a<n.length;a+=1)c=n[a],i=c.uuid,u=c.name,d=c.businessDefinedId,l=c.confirmed,n[a]=new s["a"](i,u,d,l);return e.abrupt("return",r.data.memberGroup);case 6:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var a,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Object(n["a"])({},r),e.next=3,o["a"].put("workspace/member-groups/".concat(t),a);case 3:return c=e.sent,e.abrupt("return",c.data.memberGroup);case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"deleteMemberInMemberGroup",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].delete("workspace/member-groups/".concat(t,"/members/").concat(r));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"updateMemberInMemberGroup",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r,a){var c,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c=Object(n["a"])({},a),e.next=3,o["a"].put("workspace/member-groups/".concat(t,"/members/").concat(r),c);case 3:return i=e.sent,e.abrupt("return",i.data);case 5:case"end":return e.stop()}}),e)})));function t(t,r,n){return e.apply(this,arguments)}return t}()}]),e}()},"09da":function(e,t,r){"use strict";var n=r("a271"),a=r.n(n);a.a},"0ccf":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"folderList"},[r("div",{staticClass:"childrenFolder"},e._l(e.subfolders,(function(t,n){return r("button",{key:n,staticClass:"folder",class:{clickable:!e.selectModeOpen},on:{dblclick:function(r){return r.preventDefault(),e.visitFolder(t.uuid)}}},[r("div",{staticClass:"selectedItem"},[r("WorkspaceObjectItem",{attrs:{"workspace-object":t,"default-selected":!1,"allow-select-many":!0,selection:e.selection,"display-mode":"workspaceSelectFolder","select-mode-open":e.selectModeOpen},on:{toggle:function(r){return e.toggleSelection(t)}}}),r("div",{staticClass:"remind"},[e._v(" "+e._s(t.metadata.name)+" ")])],1)])})),0)])},a=[],c=(r("4de4"),r("2b0e")),i=r("18ad"),o=r("8eb5"),s=c["default"].extend({components:{WorkspaceObjectItem:o["a"]},props:{selection:{type:Array,required:!0},selectModeOpen:{type:Boolean,required:!0}},data:function(){return{}},computed:{currentFolder:function(){return this.$store.state.currentFolder},subfolders:function(){return this.currentFolder?this.currentFolder.children.filter((function(e){return e.metadata.type===i["a"].Folder})):[]}},methods:{toggleSelection:function(e){this.$emit("toggle",e)},visitFolder:function(e){if(!this.selectModeOpen){var t=this.$store.state.currentFolder.uuid;e!==t&&this.$router.push({params:{folderId:e}})}}}}),u=s,d=(r("bf88"),r("2877")),l=Object(d["a"])(u,n,a,!1,null,"0dd1f39f",null);t["a"]=l.exports},"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},4485:function(e,t,r){},6129:function(e,t,r){},"6ef7":function(e,t,r){"use strict";var n=r("f7b5"),a=r.n(n);a.a},"841c":function(e,t,r){"use strict";var n=r("d784"),a=r("825a"),c=r("1d80"),i=r("129f"),o=r("14c3");n("search",1,(function(e,t,r){return[function(t){var r=c(this),n=void 0==t?void 0:t[e];return void 0!==n?n.call(t,r):new RegExp(t)[e](String(r))},function(e){var n=r(t,e,this);if(n.done)return n.value;var c=a(e),s=String(this),u=c.lastIndex;i(u,0)||(c.lastIndex=0);var d=o(c,s);return i(c.lastIndex,u)||(c.lastIndex=u),null===d?-1:d.index}]}))},a271:function(e,t,r){},add5:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("modal",{attrs:{name:e.modalName,transition:"pop-out",width:e.modalWidth,"focus-trap":!0,height:224},on:{"before-open":e.beforeOpen}},[r("div",{staticClass:"box"},[r("div",{staticClass:"partition"},[r("div",{staticClass:"partition-title"},[e._v(" "+e._s(e.$t("修改objectType名稱",{objectType:e.objectType}))+" ")]),r("div",{staticClass:"partition-form"},[r("form",{attrs:{autocomplete:"false"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.workspaceObjectName,expression:"workspaceObjectName"}],attrs:{id:"name",type:"text",placeholder:e.objectType+"名稱"},domProps:{value:e.workspaceObjectName},on:{input:function(t){t.target.composing||(e.workspaceObjectName=t.target.value)}}})]),r("p",{staticClass:"remind"},[e._v(" "+e._s(e.remind)+" ")]),r("div",{staticClass:"button-set"},[r("button",{attrs:{id:"cencel-btn"},on:{click:e.handleCancel}},[e._v(" "+e._s(e.$t("取消"))+" ")]),r("button",{attrs:{id:"create-btn"},on:{click:e.handleSubmit}},[e._v(" "+e._s(e.$t("送出"))+" ")])])])])])])},a=[],c=(r("b0c0"),r("d3b7"),r("ac1f"),r("25f0"),r("841c"),r("96cf"),r("1da1")),i=r("2b0e"),o=r("021b"),s=r("f52b"),u=r("18ad"),d=r("3bb2"),l=656,p=i["default"].extend({data:function(){return{translate:u["b"],modalName:"update-workspace-object-name-modal",modalWidth:l,remind:"",workspaceObjectName:"",workspaceObject:null}},computed:{objectType:function(){return this.workspaceObject?Object(u["b"])(this.workspaceObject.metadata.type):this.$t("未知").toString()}},created:function(){this.modalWidth=window.innerWidth<l?l/2:l},methods:{beforeOpen:function(e){this.remind="",e.params.workspaceObject&&(this.workspaceObject=e.params.workspaceObject,this.workspaceObjectName=this.workspaceObject.metadata.name)},handleCancel:function(){console.log("取消"),this.$modal.hide(this.modalName)},handleSubmit:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,n,a,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.workspaceObject){t.next=2;break}return t.abrupt("return");case 2:t.prev=2,t.t0=e.workspaceObject.metadata.type,t.next=t.t0===u["a"].MemberGroup?6:t.t0===u["a"].Folder?18:22;break;case 6:if(r=/^[^\s_!¡?÷?¿/\\+=@#$%ˆ&*(){}|~<>;:[\]]{2,}$/g,console.log(e.workspaceObjectName.search(r)),0===e.workspaceObjectName.search(r)){t.next=10;break}throw new Error("只允許中文、英文及數字，且至少兩個字。不允許任何空白、特殊符號(~!@#$%^&*()_/)。");case 10:return e.remind="",n=new s["b"](e.workspaceObjectName),t.next=14,o["a"].update(e.workspaceObject.uuid,n);case 14:return a=t.sent,e.workspaceObject.metadata.name=a.metadata.name,e.workspaceObject.uniqueName=a.uniqueName,t.abrupt("break",23);case 18:return c={name:e.workspaceObjectName},t.next=21,d["a"].update(e.workspaceObject.uuid,c);case 21:return t.abrupt("break",23);case 22:throw new Error("unknown object type");case 23:e.$modal.hide(e.modalName),e.$emit("submit"),t.next=31;break;case 27:t.prev=27,t.t1=t["catch"](2),e.remind=t.t1.message,e.$notify({type:"error",text:t.t1.message});case 31:case"end":return t.stop()}}),t,null,[[2,27]])})))()}}}),f=p,m=(r("b7fd"),r("09da"),r("2877")),b=Object(m["a"])(f,n,a,!1,null,null,null);t["a"]=b.exports},b26e:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));r("96cf");var n=r("1da1"),a=r("d4ec"),c=r("bee2"),i=r("3bb2"),o=r("0613"),s=function(){function e(){Object(a["a"])(this,e)}return Object(c["a"])(e,null,[{key:"loadFolder",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,o["a"].commit("updateLoading",!0),e.next=4,i["a"].retrieve(t);case 4:r=e.sent,o["a"].commit("updateCurrentFolder",r);case 6:return e.prev=6,o["a"].commit("updateLoading",!1),e.finish(6);case 9:case"end":return e.stop()}}),e,null,[[0,,6,9]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}()},b7fd:function(e,t,r){"use strict";var n=r("4485"),a=r.n(n);a.a},bf88:function(e,t,r){"use strict";var n=r("c06a"),a=r.n(n);a.a},c06a:function(e,t,r){},d98b:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"empty-hint-container"},[e._v(" "+e._s(e.$t("目前尚無任何內容"))+" ")])},a=[],c=r("2b0e"),i=c["default"].extend({name:"EmptyHint"}),o=i,s=(r("f74c"),r("2877")),u=Object(s["a"])(o,n,a,!1,null,null,null);t["a"]=u.exports},dcc1:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("modal",{staticClass:"modal-container",attrs:{name:"move-position-modal",transition:"pop-out",width:"640","focus-trap":!0,height:"640"},on:{"before-open":e.beforeOpen}},[e.insideCurrentFolder&&e.outsideFolder?r("div",{staticClass:"selector"},[r("div",{staticClass:"folder-browser"},[r("div",{staticClass:"current-folder"},[r("Breadcrumb",{attrs:{path:e.insideCurrentFolder.path,situation:"objectSelector"},on:{visitFolder:e.visitFolder}}),r("div",{staticClass:"cancel-btn"},[r("i",{staticClass:"fas fa-times",on:{click:function(t){return t.preventDefault(),e.cancel(t)}}})])],1),r("div",{staticClass:"select-items"},e._l(e.insideCurrentFolder.children,(function(t){return r("div",{key:t.uuid},["WorkspaceFolder"===t.metadata.type?r("div",{staticClass:"item",on:{dblclick:function(r){return e.visitFolder(t.uuid)}}},[r("span",{staticClass:"folderIcon"},[r("i",{staticClass:"fas fa-folder"})]),r("span",[e._v(e._s(t.metadata.name))])]):e._e()])})),0)]),r("transition",{attrs:{name:"fade"}},[e.insideCurrentFolder.uuid!==e.outsideFolder.uuid?r("div",{staticClass:"buttons"},[r("b-button",{on:{click:function(t){return t.preventDefault(),e.submit(t)}}},[e._v(" "+e._s(e.$t("移至這裡"))+" ")])],1):e._e()])],1):e._e()])},a=[],c=(r("d3b7"),r("25f0"),r("96cf"),r("1da1")),i=r("2b0e"),o=r("18ad"),s=r("010d"),u=r("3bb2"),d=i["default"].extend({components:{Breadcrumb:s["a"]},data:function(){return{translate:o["b"],outsideFolder:null,insideCurrentFolder:null}},methods:{beforeOpen:function(e){this.outsideFolder=e.params.currentFolder,this.insideCurrentFolder=e.params.currentFolder},submit:function(){this.insideCurrentFolder&&this.$emit("submit",this.insideCurrentFolder.uuid)},cancel:function(){this.$modal.hide("move-position-modal")},visitFolder:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,u["a"].retrieve(e);case 3:t.insideCurrentFolder=r.sent,r.next=10;break;case 6:r.prev=6,r.t0=r["catch"](0),console.error(r.t0),t.$notify({type:"error",title:t.$t("錯誤").toString(),text:t.$t("讀取資料夾失敗，請稍後重試").toString()});case 10:case"end":return r.stop()}}),r,null,[[0,6]])})))()}}}),l=d,p=(r("6ef7"),r("2877")),f=Object(p["a"])(l,n,a,!1,null,"1a240c08",null);t["a"]=f.exports},f410:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));r("96cf");var n=r("1da1"),a=r("d4ec"),c=r("bee2"),i=r("6ad1"),o=function(){function e(){Object(a["a"])(this,e)}return Object(c["a"])(e,null,[{key:"retrieve",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["a"].get("workspace/object/".concat(t));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"move",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={destinationId:r},e.abrupt("return",i["a"].post("workspace/object/".concat(t,"/move"),n));case 2:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"copy",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={},e.next=3,i["a"].post("workspace/object/".concat(t,"/copy"),r);case 3:return n=e.sent,e.abrupt("return",n.data.copiedObject);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"remove",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",i["a"].delete("workspace/object/".concat(t)));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",i["a"].delete("workspace/object/".concat(t,"?permanent=true")));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}()},f52b:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"c",(function(){return c})),r.d(t,"b",(function(){return i}));r("b0c0");var n=r("d4ec"),a=function e(t,r,a,c){Object(n["a"])(this,e),this.openEdit=!1,this.uuid=t,this.name=r,this.businessDefinedId=a,this.confirmed=c},c=function e(t){Object(n["a"])(this,e),this.confirmed=t},i=function e(t){Object(n["a"])(this,e),this.name=t}},f74c:function(e,t,r){"use strict";var n=r("6129"),a=r.n(n);a.a},f7b5:function(e,t,r){}}]);
//# sourceMappingURL=chunk-f3233a6e.d1e58fd0.js.map